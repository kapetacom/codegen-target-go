//#FILENAME:generated/queues/{{snakeCase data.metadata.name}}-consumer.go:write-always
package queues

import (
	"{{@root.options.basePackage}}/generated/entities"
	"github.com/kapetacom/sdk-go-config/providers"
	"github.com/kapetacom/sdk-go-rabbitmq/rabbitmq"
)


type {{pascalCase data.metadata.name}}Handler = rabbitmq.MessageHandler[entities.{{data.spec.payloadType.type}}]

func Create{{pascalCase data.metadata.name}}Consumer(config providers.ConfigProvider, handler {{pascalCase data.metadata.name}}Handler) (*rabbitmq.Consumer, error) {
	return rabbitmq.CreateConsumer[entities.{{data.spec.payloadType.type}}](config, "{{string data.metadata.name}}", handler)
}
